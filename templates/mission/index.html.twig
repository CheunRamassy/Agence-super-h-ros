{% extends 'base.html.twig' %}

{% block title %}Mission{% endblock %}

{% block body %}
<div class="container-xl">
  <h1 class="display-3">Mission</h1>
</div>

<div class="container-xl">
  <div class="d-flex flex-row-reverse">
  <a class="btn btn-primary" href= "{{ path('create_mission') }}"type="button" >Ajouter une Mission</a>
  </div>
</div>

<div class="table-responsive">
  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th scope="col">Titre</th>
        <th scope="col">Description</th>
        <th scope="col">Localisation</th>
        <th scope="col">Difficulté</th>
        <th scope="col">Etat</th>
        <th scope="col">Équipe associé</th>
        <th scope="col">Date de début</th>
        <th scope="col">Date de fin</th>
        <th scope="col">Action</th>
      </tr>
    </thead>
    <tbody>
      {% for mission in missions %}
        <tr>
          <td>{{ mission.title }}</td>
          <td>{{ mission.description }}</td>
          <td>{{ mission.location }}</td>
          <td>{{ mission.dangerLevel }}</td>
          <td>{{ mission.status.name }}</td>
          {% if  mission.assignedTeam == null %}
            <td><p>Aucune équipe associé</p></td>
          {% else %}
          <td>{{ mission.assignedTeam.name }}</td>
          {% endif %}
          <td>{{ mission.startAt | date }}</td>
          <td>{{ mission.endAt | date }}</td>
          <td>
            <a class="btn btn-primary" href="{{ path('edit_mission', {id: mission.id}) }}" type="button">Modifier</a>
            <a class="btn btn-danger" href="{{ path('remove_mission', {id: mission.id}) }}" type="button">Supprimer</a>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
